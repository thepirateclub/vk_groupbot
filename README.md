# Group VK Bot engine
Движок для создания собственного бота для социальной сети ВКонтакте (только для сообществ).
### Что сейчас реализовано?
- постоянное LongPoll соединение
- асинхронная работа бота
- поддержка VKScript через Execute (_скрипты находятся в папке scripts_)
- нативность - написан без использования зависимостей
- модульность - возможность вносить изменения или дополнения в движок без затрагивания всего функционала
- поддержка контроллеров - контроллеры, это реализация команд управления, которые подгружаются автоматически
во время запуска бота (_находятся в папке controllers_). <br>
- поддержка событийной модели EventEmitter.
- поддержка обработчиков событий (middleware)

### Как запускать?
1. Переименовать файл ```config.dist.json``` в файл ```config.json```
2. Заполнить поля файла указанного в пункте 1, указав token сообщества и id сообщества состоящий из цифр
3. В терминале (консоли) набрать и запустить команду ```npm start```

### Как добавить свой контроллер?
1. Создать файл с расширением ```.js``` в папке ```./controllers```
2. В файле создать класс и экспортировать его через метод ```module.exports```
3. Класс должен быть наследован от класса ```EventController``` и реализовывать метод ```execute(update)```
4. Тестовый пример представлен в папке ```./controllers``` под названием ```testController.js```

### Как писать скрипты на языке VKScript?
1. Создать файл с расширением ```.txt``` в папке ```./scripts```
2. В созданном файле написать непосредственно скрипт на языке VKScript
3. В файле можно использовать переменные заключая название переменной в символы ```#```, пример переменной ```userId``` в
файле скрипта ```#userId#```
4. Используя метод класса VkScript ```getScript(имя_файла_скрипта_без_пути_к_нему, объект_с_переменными)``` вызвать нужный скрипт.
Пример вызова ```getScript('messages_repeat, {'userId':'1', 'randomId':'15649864132896513'})```, этот пример вызовет тестовый скрипт
находящийся в папке ```./script``` под названием ```messages_repeat.txt``` и заменит в нем переменные на значения переданные в методе.

### Примечания
После добавления контроллеров или скриптов, движок необходимо обязательно перезапустить, что бы он загрузил новые элементы

### Лицензия
Проект распространяется под лицензией MIT.

### Авторы
Данный движок для бота был разработан авторами сообщества [The Pirate](https://vk.com/the_pirate_club). Все свои вопросы
по работе этого движка можете задать в личные сообщения, перейдя по ссылке указанной ранее.
